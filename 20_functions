# -*- Mode: Shell-script; -*-
# .zsh/20_functions : Mark Tran <mark@nirv.net>

# complete notation for repeated dots
rationalise-dot() {
    if [[ $LBUFFER = *.. ]]; then
        LBUFFER+=/..
    else
        LBUFFER+=.
    fi
}
zle -N rationalise-dot

# automatic rehash on command completion
_force_rehash() {
  (( CURRENT == 1 )) && rehash
  return 1
}

zstyle ':completion:*' completer \
  _oldlist _expand _force_rehash _complete ...
